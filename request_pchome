import requests
import time

# è¨­å®šç›®æ¨™ï¼šå‰ 5 é 
total_pages = 5
keyword = "PS5"

print(f"ğŸš€ é–‹å§‹çˆ¬å– PChome API v4.3 (é—œéµå­—: {keyword})\n")

for page_num in range(1, total_pages + 1):
    # å°‡ page={page_num} å¸¶å…¥ä½ æä¾›çš„ç¶²å€
    url = f"https://ecshweb.pchome.com.tw/search/v4.3/all/results?q={keyword}&page={page_num}&pageCount=40"
    
    try:
        # ç™¼é€è«‹æ±‚
        response = requests.get(url)
        data = response.json()
        
        # å–å¾—å•†å“åˆ—è¡¨
        products = data.get('Prods', [])
        
        print(f"=== ç¬¬ {page_num} é è³‡æ–™ (å…± {len(products)} ç­†) ===")
        
        for prod in products:
            # åªæå–ä½ æŒ‡å®šçš„é€™ä¸‰å€‹è³‡è¨Š
            name = prod.get('Name')
            describe = prod.get('Describe')
            price = prod.get('Price')
            
            print(f"å“å: {name}")
            print(f"åƒ¹æ ¼: {price}")
            print(f"æè¿°: {describe}")
            print("-" * 50)
            
        # æ¯ä¸€é æŠ“å®Œç¨å¾®åœ 0.5 ç§’ï¼Œé¿å…è«‹æ±‚éå¿«
        time.sleep(0.5)
        
    except Exception as e:
        print(f"âŒ æŠ“å–ç¬¬ {page_num} é æ™‚å‡ºéŒ¯: {e}")
        break

print("\nâœ… å‰ 5 é è³‡æ–™å·²å…¨æ•¸å°å‡ºï¼")
